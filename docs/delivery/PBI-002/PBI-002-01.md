# PBI-002-01: Configurar proyecto Supabase y variables de entorno

**PBI:** [PBI-002](../backlog.md#pbi-002-migracion-a-email-otp-con-supabase-auth)
**Estado:** Done
**Prioridad:** Alta

---

## Descripcion

Configurar la base de Supabase Auth Email OTP y documentar las variables de entorno requeridas para el proyecto.

## Alcance

### En alcance

- Agregar variables de entorno de Supabase en `.env.example`
- Definir variables requeridas para Turnstile
- Documentar pasos basicos de habilitacion de Email OTP en Supabase

### Fuera de alcance

- Cambios de UI/UX
- Implementacion de rutas o componentes
- Migracion de datos de negocios

---

## Pasos de configuracion (Supabase)

1. Authentication > Email > habilitar "Email OTP"
2. Authentication > Providers > deshabilitar providers no usados
3. Authentication > Captcha > habilitar Turnstile
4. (Opcional) Authentication > SMTP > configurar SMTP custom

---

## Variables de entorno requeridas

```env
NEXT_PUBLIC_SUPABASE_URL=https://xxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJxxx
SUPABASE_SERVICE_ROLE_KEY=eyJxxx
NEXT_PUBLIC_TURNSTILE_SITE_KEY=xxx
TURNSTILE_SECRET_KEY=xxx
```

---

## Criterios de aceptacion

- [x] Variables de entorno de Supabase documentadas
- [x] Pasos de configuracion basicos registrados
- [x] `.env.example` actualizado sin secretos reales
- [x] Test plan definido

---

## Test Plan

### Cobertura objetivo: >= 80% cuando aplique (configuracion)

### Validaciones manuales

- [ ] `.env.example` incluye variables de Supabase y Turnstile
- [ ] Variables no contienen credenciales reales
- [ ] Documentacion de pasos Supabase es consistente con el plan
