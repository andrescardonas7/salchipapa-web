# HARDCODING POLICY (Production-Grade)

---

## 1. Core Principle: Zero-Hardcoding Policy

> **Definition:** Hardcoding (embedding fixed literal values directly into source code) is strictly prohibited for **sensitive, environment-specific, or user-dependent data**.  
Hardcoding compromises **security**, **portability**, **scalability**, and **maintainability**.

---

### üö´ Strictly Prohibited (NEVER DO THIS)

#### üîë Secrets & Credentials
- API Keys
- Passwords
- Auth / JWT Tokens
- Private Keys
- Database connection strings  
  ‚ùå `"postgres://user:pass@localhost:5432/db"`

#### üßë‚Äçüíª Environment / User-Specific Data
- Absolute file paths  
  ‚ùå `C:\Users\Admin\Documents\data.csv`  
  ‚ùå `/home/username/project`
- Machine-specific URLs, IPs, ports

#### üî¢ Magic Numbers & Magic Strings
- Unexplained numeric literals  
  ‚ùå `if timeout > 86400`
- Inline strings that drive logic without context

---

### ‚úÖ Explicitly Allowed Hardcoding (Safe & Intentional)

Hardcoding **IS allowed** only for:

- **Non-sensitive defaults**
  ```python
  DEFAULT_TIMEOUT = 30
Enum-like constants

STATUS_ACTIVE = "active"
STATUS_DISABLED = "disabled"
Public, non-secret identifiers

Public API base URLs (only if truly public)

Language-level constants

True, False, None, etc.

‚ö†Ô∏è Rule of thumb:
If changing the value requires a redeploy, it should NOT be hardcoded.

2. Implementation Strategy: ‚ÄúEnvironment First‚Äù
üîë Secrets & Credentials (MANDATORY)
All secrets MUST be loaded from Environment Variables.

Stack	Method
Python	os.getenv("VAR_NAME") / pydantic-settings
R	Sys.getenv("VAR_NAME")
Node / JS	process.env.VAR_NAME
Bash	$VAR_NAME
‚ùå NEVER:

Commit secrets

Log secrets

Print secrets

Hardcode secrets ‚Äútemporarily‚Äù

‚öôÔ∏è Configuration (Non-Secret Settings)
Configuration MUST be decoupled from business logic.

Allowed methods:

Config files
config.yaml, settings.json, config.toml

Dedicated config modules
config.py, settings.ts

Environment variables (preferred for deploy-time config)

üìÅ Paths & File System Rules
NEVER assume execution directory

MUST dynamically resolve project root

‚úÖ Correct:

from pathlib import Path

BASE_DIR = Path(__file__).resolve().parent
DATA_DIR = BASE_DIR / "data"
‚ùå Incorrect:

"/home/user/project/data"
3. Constants & Magic Numbers
Repeated values MUST be named constants

Constants MUST be declared at the top of the file or in a constants module

‚úÖ Example:

MAX_RETRIES = 3
REQUEST_TIMEOUT_SECONDS = 30
‚ùå Bad:

for _ in range(3):
    time.sleep(30)
4. Mandatory Project Scaffolding (NON-NEGOTIABLE)
Every new project or script MUST include:

4.1 .env Management
Create .env.example with dummy values

Add .env to .gitignore immediately

# .env.example
CLIMATE_API_KEY=insert_key_here
DB_URL=postgres://user:password@host:5432/db
4.2 Fail-Fast Validation Block
Applications MUST validate critical configuration on startup.

Python Example:
import os
from dotenv import load_dotenv

load_dotenv()

API_KEY = os.getenv("CLIMATE_API_KEY")

if not API_KEY:
    raise RuntimeError(
        "CRITICAL CONFIG ERROR: 'CLIMATE_API_KEY' not found. "
        "Check your environment or .env file."
    )
‚úî Fail early
‚úî Fail loudly
‚úî Fail clearly

5. Secret Lifecycle Rules (Security-First)
Secrets MUST:

Be rotatable without code changes

Never appear in:

Logs

Stack traces

Console output

CI/CD logs

Be revocable immediately if compromised

When possible, use:

HashiCorp Vault

AWS Secrets Manager

Doppler

GitHub / GitLab Secrets

6. Logging & Error Handling Rules
üö´ Logging Restrictions
NEVER log full environment variables

NEVER print secrets, even in debug mode

NEVER include secret values in error messages

‚úÖ Correct:

raise RuntimeError("Missing CLIMATE_API_KEY")
‚ùå Incorrect:

print(API_KEY)
raise RuntimeError(f"Key is {API_KEY}")
7. CI/CD Enforcement (MANDATORY)
Security rules MUST be enforced automatically.

CI pipelines MUST:

‚ùå Fail if .env is committed

‚ùå Fail if secrets are detected in code

‚ùå Fail on hardcoded credentials

Recommended tools:

gitleaks

trufflehog

detect-secrets

Rules without enforcement are documentation, not policy.

8. Final Principle
If configuration is hardcoded, it is already technical debt.
If a secret is hardcoded, it is already a vulnerability.

This policy applies to:

Local development

Scripts

APIs

Bots

CI/CD pipelines

AI-generated code